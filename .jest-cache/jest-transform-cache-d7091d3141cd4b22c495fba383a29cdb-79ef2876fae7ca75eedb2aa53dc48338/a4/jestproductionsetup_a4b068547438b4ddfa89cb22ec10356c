2db5e722c889c8cb5d481073c4be26ab
// jest.production.setup.js - Lightweight setup for production readiness tests

// Set test environment variables
process.env.NODE_ENV = 'test';
process.env.FIREBASE_PROJECT_ID = 'demo-test';
process.env.FIREBASE_STORAGE_BUCKET = 'demo-test.appspot.com';

// Set emulator hosts for integration tests (only if needed)
if (!process.env.FIREBASE_AUTH_EMULATOR_HOST) {
  process.env.FIREBASE_AUTH_EMULATOR_HOST = 'localhost:9099';
}
if (!process.env.FIRESTORE_EMULATOR_HOST) {
  process.env.FIRESTORE_EMULATOR_HOST = 'localhost:5004';
}
if (!process.env.FIREBASE_STORAGE_EMULATOR_HOST) {
  process.env.FIREBASE_STORAGE_EMULATOR_HOST = 'localhost:9199';
}

// Set test credentials (safe values for testing)
process.env.JWT_SECRET = 'test-jwt-secret-for-production-validation';
process.env.ENCRYPTION_KEY = 'test-encryption-key-32-chars-long';
process.env.DATABASE_ENCRYPTION_KEY = 'test-db-encryption-key-32-chars';

// Blockchain test configuration (no actual blockchain needed for most tests)
process.env.RPC_URL = 'http://localhost:8545';
process.env.CHAIN_ID = '31337';
process.env.DEPLOYER_PRIVATE_KEY = '0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80';
process.env.BACKEND_WALLET_PRIVATE_KEY = '0x59c6995e998f97a5a0044966f0945389dc9e86dae88c7a8412f4603b6b78690d';

// Email test configuration
process.env.SMTP_HOST = 'test.smtp.com';
process.env.SMTP_PORT = '587';
process.env.SMTP_USER = 'test@example.com';
process.env.SMTP_PASS = 'testpassword';

// API test configuration
process.env.ALLOWED_EMAILS = 'test@example.com,admin@example.com';
process.env.FRONTEND_URL = 'http://localhost:3000';

// Increase timeout for async operations
jest.setTimeout(30000);

// Global test utilities
global.testTimeout = ms => new Promise(resolve => setTimeout(resolve, ms));

// Suppress console warnings in tests for cleaner output
const originalWarn = console.warn;
console.warn = (...args) => {
  const message = args[0];
  // Suppress known warnings that don't affect functionality
  if (typeof message === 'string' && (message.includes('ExperimentalWarning') || message.includes('experimental') || message.includes('deprecated'))) {
    return;
  }
  originalWarn.apply(console, args);
};
console.log('ðŸ§ª Production test environment configured');
console.log(`ðŸ“‹ Running in: ${process.env.NODE_ENV} mode`);
console.log(`ðŸ”§ Firebase Project: ${process.env.FIREBASE_PROJECT_ID}`);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJGSVJFQkFTRV9QUk9KRUNUX0lEIiwiRklSRUJBU0VfU1RPUkFHRV9CVUNLRVQiLCJGSVJFQkFTRV9BVVRIX0VNVUxBVE9SX0hPU1QiLCJGSVJFU1RPUkVfRU1VTEFUT1JfSE9TVCIsIkZJUkVCQVNFX1NUT1JBR0VfRU1VTEFUT1JfSE9TVCIsIkpXVF9TRUNSRVQiLCJFTkNSWVBUSU9OX0tFWSIsIkRBVEFCQVNFX0VOQ1JZUFRJT05fS0VZIiwiUlBDX1VSTCIsIkNIQUlOX0lEIiwiREVQTE9ZRVJfUFJJVkFURV9LRVkiLCJCQUNLRU5EX1dBTExFVF9QUklWQVRFX0tFWSIsIlNNVFBfSE9TVCIsIlNNVFBfUE9SVCIsIlNNVFBfVVNFUiIsIlNNVFBfUEFTUyIsIkFMTE9XRURfRU1BSUxTIiwiRlJPTlRFTkRfVVJMIiwiamVzdCIsInNldFRpbWVvdXQiLCJnbG9iYWwiLCJ0ZXN0VGltZW91dCIsIm1zIiwiUHJvbWlzZSIsInJlc29sdmUiLCJvcmlnaW5hbFdhcm4iLCJjb25zb2xlIiwid2FybiIsImFyZ3MiLCJtZXNzYWdlIiwiaW5jbHVkZXMiLCJhcHBseSIsImxvZyJdLCJzb3VyY2VzIjpbImplc3QucHJvZHVjdGlvbi5zZXR1cC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBqZXN0LnByb2R1Y3Rpb24uc2V0dXAuanMgLSBMaWdodHdlaWdodCBzZXR1cCBmb3IgcHJvZHVjdGlvbiByZWFkaW5lc3MgdGVzdHNcblxuLy8gU2V0IHRlc3QgZW52aXJvbm1lbnQgdmFyaWFibGVzXG5wcm9jZXNzLmVudi5OT0RFX0VOViA9ICd0ZXN0JztcbnByb2Nlc3MuZW52LkZJUkVCQVNFX1BST0pFQ1RfSUQgPSAnZGVtby10ZXN0JztcbnByb2Nlc3MuZW52LkZJUkVCQVNFX1NUT1JBR0VfQlVDS0VUID0gJ2RlbW8tdGVzdC5hcHBzcG90LmNvbSc7XG5cbi8vIFNldCBlbXVsYXRvciBob3N0cyBmb3IgaW50ZWdyYXRpb24gdGVzdHMgKG9ubHkgaWYgbmVlZGVkKVxuaWYgKCFwcm9jZXNzLmVudi5GSVJFQkFTRV9BVVRIX0VNVUxBVE9SX0hPU1QpIHtcbiAgcHJvY2Vzcy5lbnYuRklSRUJBU0VfQVVUSF9FTVVMQVRPUl9IT1NUID0gJ2xvY2FsaG9zdDo5MDk5Jztcbn1cbmlmICghcHJvY2Vzcy5lbnYuRklSRVNUT1JFX0VNVUxBVE9SX0hPU1QpIHtcbiAgcHJvY2Vzcy5lbnYuRklSRVNUT1JFX0VNVUxBVE9SX0hPU1QgPSAnbG9jYWxob3N0OjUwMDQnO1xufVxuaWYgKCFwcm9jZXNzLmVudi5GSVJFQkFTRV9TVE9SQUdFX0VNVUxBVE9SX0hPU1QpIHtcbiAgcHJvY2Vzcy5lbnYuRklSRUJBU0VfU1RPUkFHRV9FTVVMQVRPUl9IT1NUID0gJ2xvY2FsaG9zdDo5MTk5Jztcbn1cblxuLy8gU2V0IHRlc3QgY3JlZGVudGlhbHMgKHNhZmUgdmFsdWVzIGZvciB0ZXN0aW5nKVxucHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCA9ICd0ZXN0LWp3dC1zZWNyZXQtZm9yLXByb2R1Y3Rpb24tdmFsaWRhdGlvbic7XG5wcm9jZXNzLmVudi5FTkNSWVBUSU9OX0tFWSA9ICd0ZXN0LWVuY3J5cHRpb24ta2V5LTMyLWNoYXJzLWxvbmcnO1xucHJvY2Vzcy5lbnYuREFUQUJBU0VfRU5DUllQVElPTl9LRVkgPSAndGVzdC1kYi1lbmNyeXB0aW9uLWtleS0zMi1jaGFycyc7XG5cbi8vIEJsb2NrY2hhaW4gdGVzdCBjb25maWd1cmF0aW9uIChubyBhY3R1YWwgYmxvY2tjaGFpbiBuZWVkZWQgZm9yIG1vc3QgdGVzdHMpXG5wcm9jZXNzLmVudi5SUENfVVJMID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6ODU0NSc7XG5wcm9jZXNzLmVudi5DSEFJTl9JRCA9ICczMTMzNyc7XG5wcm9jZXNzLmVudi5ERVBMT1lFUl9QUklWQVRFX0tFWSA9ICcweGFjMDk3NGJlYzM5YTE3ZTM2YmE0YTZiNGQyMzhmZjk0NGJhY2I0NzhjYmVkNWVmY2FlNzg0ZDdiZjRmMmZmODAnO1xucHJvY2Vzcy5lbnYuQkFDS0VORF9XQUxMRVRfUFJJVkFURV9LRVkgPSAnMHg1OWM2OTk1ZTk5OGY5N2E1YTAwNDQ5NjZmMDk0NTM4OWRjOWU4NmRhZTg4YzdhODQxMmY0NjAzYjZiNzg2OTBkJztcblxuLy8gRW1haWwgdGVzdCBjb25maWd1cmF0aW9uXG5wcm9jZXNzLmVudi5TTVRQX0hPU1QgPSAndGVzdC5zbXRwLmNvbSc7XG5wcm9jZXNzLmVudi5TTVRQX1BPUlQgPSAnNTg3JztcbnByb2Nlc3MuZW52LlNNVFBfVVNFUiA9ICd0ZXN0QGV4YW1wbGUuY29tJztcbnByb2Nlc3MuZW52LlNNVFBfUEFTUyA9ICd0ZXN0cGFzc3dvcmQnO1xuXG4vLyBBUEkgdGVzdCBjb25maWd1cmF0aW9uXG5wcm9jZXNzLmVudi5BTExPV0VEX0VNQUlMUyA9ICd0ZXN0QGV4YW1wbGUuY29tLGFkbWluQGV4YW1wbGUuY29tJztcbnByb2Nlc3MuZW52LkZST05URU5EX1VSTCA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnO1xuXG4vLyBJbmNyZWFzZSB0aW1lb3V0IGZvciBhc3luYyBvcGVyYXRpb25zXG5qZXN0LnNldFRpbWVvdXQoMzAwMDApO1xuXG4vLyBHbG9iYWwgdGVzdCB1dGlsaXRpZXNcbmdsb2JhbC50ZXN0VGltZW91dCA9IChtcykgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XG5cbi8vIFN1cHByZXNzIGNvbnNvbGUgd2FybmluZ3MgaW4gdGVzdHMgZm9yIGNsZWFuZXIgb3V0cHV0XG5jb25zdCBvcmlnaW5hbFdhcm4gPSBjb25zb2xlLndhcm47XG5jb25zb2xlLndhcm4gPSAoLi4uYXJncykgPT4ge1xuICBjb25zdCBtZXNzYWdlID0gYXJnc1swXTtcbiAgLy8gU3VwcHJlc3Mga25vd24gd2FybmluZ3MgdGhhdCBkb24ndCBhZmZlY3QgZnVuY3Rpb25hbGl0eVxuICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09ICdzdHJpbmcnICYmIChcbiAgICBtZXNzYWdlLmluY2x1ZGVzKCdFeHBlcmltZW50YWxXYXJuaW5nJykgfHxcbiAgICBtZXNzYWdlLmluY2x1ZGVzKCdleHBlcmltZW50YWwnKSB8fFxuICAgIG1lc3NhZ2UuaW5jbHVkZXMoJ2RlcHJlY2F0ZWQnKVxuICApKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIG9yaWdpbmFsV2Fybi5hcHBseShjb25zb2xlLCBhcmdzKTtcbn07XG5cbmNvbnNvbGUubG9nKCfwn6eqIFByb2R1Y3Rpb24gdGVzdCBlbnZpcm9ubWVudCBjb25maWd1cmVkJyk7XG5jb25zb2xlLmxvZyhg8J+TiyBSdW5uaW5nIGluOiAke3Byb2Nlc3MuZW52Lk5PREVfRU5WfSBtb2RlYCk7XG5jb25zb2xlLmxvZyhg8J+UpyBGaXJlYmFzZSBQcm9qZWN0OiAke3Byb2Nlc3MuZW52LkZJUkVCQVNFX1BST0pFQ1RfSUR9YCk7ICJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQUEsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFFBQVEsR0FBRyxNQUFNO0FBQzdCRixPQUFPLENBQUNDLEdBQUcsQ0FBQ0UsbUJBQW1CLEdBQUcsV0FBVztBQUM3Q0gsT0FBTyxDQUFDQyxHQUFHLENBQUNHLHVCQUF1QixHQUFHLHVCQUF1Qjs7QUFFN0Q7QUFDQSxJQUFJLENBQUNKLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSSwyQkFBMkIsRUFBRTtFQUM1Q0wsT0FBTyxDQUFDQyxHQUFHLENBQUNJLDJCQUEyQixHQUFHLGdCQUFnQjtBQUM1RDtBQUNBLElBQUksQ0FBQ0wsT0FBTyxDQUFDQyxHQUFHLENBQUNLLHVCQUF1QixFQUFFO0VBQ3hDTixPQUFPLENBQUNDLEdBQUcsQ0FBQ0ssdUJBQXVCLEdBQUcsZ0JBQWdCO0FBQ3hEO0FBQ0EsSUFBSSxDQUFDTixPQUFPLENBQUNDLEdBQUcsQ0FBQ00sOEJBQThCLEVBQUU7RUFDL0NQLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDTSw4QkFBOEIsR0FBRyxnQkFBZ0I7QUFDL0Q7O0FBRUE7QUFDQVAsT0FBTyxDQUFDQyxHQUFHLENBQUNPLFVBQVUsR0FBRywyQ0FBMkM7QUFDcEVSLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDUSxjQUFjLEdBQUcsbUNBQW1DO0FBQ2hFVCxPQUFPLENBQUNDLEdBQUcsQ0FBQ1MsdUJBQXVCLEdBQUcsaUNBQWlDOztBQUV2RTtBQUNBVixPQUFPLENBQUNDLEdBQUcsQ0FBQ1UsT0FBTyxHQUFHLHVCQUF1QjtBQUM3Q1gsT0FBTyxDQUFDQyxHQUFHLENBQUNXLFFBQVEsR0FBRyxPQUFPO0FBQzlCWixPQUFPLENBQUNDLEdBQUcsQ0FBQ1ksb0JBQW9CLEdBQUcsb0VBQW9FO0FBQ3ZHYixPQUFPLENBQUNDLEdBQUcsQ0FBQ2EsMEJBQTBCLEdBQUcsb0VBQW9FOztBQUU3RztBQUNBZCxPQUFPLENBQUNDLEdBQUcsQ0FBQ2MsU0FBUyxHQUFHLGVBQWU7QUFDdkNmLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDZSxTQUFTLEdBQUcsS0FBSztBQUM3QmhCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDZ0IsU0FBUyxHQUFHLGtCQUFrQjtBQUMxQ2pCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDaUIsU0FBUyxHQUFHLGNBQWM7O0FBRXRDO0FBQ0FsQixPQUFPLENBQUNDLEdBQUcsQ0FBQ2tCLGNBQWMsR0FBRyxvQ0FBb0M7QUFDakVuQixPQUFPLENBQUNDLEdBQUcsQ0FBQ21CLFlBQVksR0FBRyx1QkFBdUI7O0FBRWxEO0FBQ0FDLElBQUksQ0FBQ0MsVUFBVSxDQUFDLEtBQUssQ0FBQzs7QUFFdEI7QUFDQUMsTUFBTSxDQUFDQyxXQUFXLEdBQUlDLEVBQUUsSUFBSyxJQUFJQyxPQUFPLENBQUNDLE9BQU8sSUFBSUwsVUFBVSxDQUFDSyxPQUFPLEVBQUVGLEVBQUUsQ0FBQyxDQUFDOztBQUU1RTtBQUNBLE1BQU1HLFlBQVksR0FBR0MsT0FBTyxDQUFDQyxJQUFJO0FBQ2pDRCxPQUFPLENBQUNDLElBQUksR0FBRyxDQUFDLEdBQUdDLElBQUksS0FBSztFQUMxQixNQUFNQyxPQUFPLEdBQUdELElBQUksQ0FBQyxDQUFDLENBQUM7RUFDdkI7RUFDQSxJQUFJLE9BQU9DLE9BQU8sS0FBSyxRQUFRLEtBQzdCQSxPQUFPLENBQUNDLFFBQVEsQ0FBQyxxQkFBcUIsQ0FBQyxJQUN2Q0QsT0FBTyxDQUFDQyxRQUFRLENBQUMsY0FBYyxDQUFDLElBQ2hDRCxPQUFPLENBQUNDLFFBQVEsQ0FBQyxZQUFZLENBQUMsQ0FDL0IsRUFBRTtJQUNEO0VBQ0Y7RUFDQUwsWUFBWSxDQUFDTSxLQUFLLENBQUNMLE9BQU8sRUFBRUUsSUFBSSxDQUFDO0FBQ25DLENBQUM7QUFFREYsT0FBTyxDQUFDTSxHQUFHLENBQUMsMkNBQTJDLENBQUM7QUFDeEROLE9BQU8sQ0FBQ00sR0FBRyxDQUFDLGtCQUFrQm5DLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxRQUFRLE9BQU8sQ0FBQztBQUMxRDJCLE9BQU8sQ0FBQ00sR0FBRyxDQUFDLHdCQUF3Qm5DLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSxtQkFBbUIsRUFBRSxDQUFDIiwiaWdub3JlTGlzdCI6W119